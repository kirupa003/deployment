# Data Source Provisioning Configuration
# Generated by Ansible - Do not edit manually

apiVersion: 1

datasources:
{% for datasource in monitoring_data_sources %}
  - name: {{ datasource.name }}
    type: {{ datasource.type }}
    access: {{ datasource.access }}
    url: {{ datasource.url }}
{% if datasource.is_default | default(false) %}
    isDefault: true
{% endif %}
{% if datasource.database is defined %}
    database: {{ datasource.database }}
{% endif %}
    jsonData:
{% if datasource.type == "prometheus" %}
      httpMethod: POST
      timeInterval: 30s
{% elif datasource.type == "loki" %}
      maxLines: 1000
{% elif datasource.type == "clickhouse" %}
      defaultDatabase: {{ datasource.database | default('default') }}
{% endif %}
    editable: true

{% endfor %}